## Goal: Verify n8n access, obtain API keys, test basic connectivity

Your task is to guide the user through setting up their experiment environment and validating that all necessary tools and API keys are ready for the 1-week experiment.

### Why This Matters
Before building any workflow, you need to ensure your foundation is solid. Missing API keys or misconfigured tools will block progress later. This step validates everything upfront so you can build confidently.

---

## Phase 1: Verify n8n Access

### 1. Confirm n8n instance is accessible
Ask the user:
- "Is your n8n instance running and accessible? (cloud account or self-hosted)"
- "Can you access the n8n workflow editor?"

If not accessible, guide them to:
- Cloud: Sign up at n8n.io or login to existing account
- Self-hosted: Start their local n8n instance

**Why this matters:** You can't build workflows without access to the tool.

---

## Phase 2: API Key Collection

### 2. Anthropic API Key (Claude)
Ask the user:
- "Do you have an Anthropic API key for Claude?"

If YES:
- Guide them to add it to n8n credentials (Settings → Credentials → Add Credential → Anthropic)
- Test with simple prompt: "Hello, can you confirm you're working?"

If NO:
- Direct them to console.anthropic.com to create account and generate API key
- Note: They'll need access to Claude 3.5 Sonnet with vision for PDF processing

**Why this matters:** Claude with vision is one of the PDF processing options to test.

### 3. OpenAI API Key (GPT-4V) - Optional
Ask the user:
- "Do you have an OpenAI API key with GPT-4V access?"

If YES:
- Guide them to add it to n8n credentials (Settings → Credentials → Add Credential → OpenAI)
- Test with simple prompt

If NO:
- Note: This is optional for the experiment (can test Claude only)
- If they want to test both, direct them to platform.openai.com

**Why this matters:** Testing both Claude and GPT-4V helps choose the best PDF processing option.

### 4. Semantic Scholar API (Optional)
Ask the user:
- "Have you registered for Semantic Scholar API access?"

If NO:
- Direct them to semanticscholar.org/product/api
- Note: Free tier should be sufficient for experiment (100 requests/5 minutes)

If YES or skipping:
- Note: arXiv API requires no key, so they can proceed with arXiv only if preferred

**Why this matters:** Having both search sources increases paper coverage, but arXiv alone is sufficient for the experiment.

---

## Phase 3: Test Basic n8n Nodes

### 5. Test HTTP Node with arXiv API
Guide the user to create a simple test workflow:

**Workflow:**
1. Add Manual Trigger node
2. Add HTTP Request node:
   - Method: GET
   - URL: `http://export.arxiv.org/api/query?search_query=all:machine+learning&max_results=1`
3. Execute workflow

**Expected result:** JSON response with 1 paper from arXiv

If it works:
- Celebrate! HTTP nodes are working.

If it fails:
- Troubleshoot: Check URL, check internet connectivity, check n8n logs

**Why this matters:** HTTP nodes are essential for retrieving papers. This validates they work before building the full workflow.

### 6. Test LLM Node with Claude (or OpenAI)
Guide the user to create another simple test:

**Workflow:**
1. Add Manual Trigger node
2. Add Claude (or OpenAI) node:
   - Use their API credentials from Phase 2
   - Prompt: "Summarize what a research paper analysis workflow should include"
3. Execute workflow

**Expected result:** LLM response with summary

If it works:
- Great! LLM integration is working.

If it fails:
- Troubleshoot: Check API key, check credentials in n8n, check API quota/billing

**Why this matters:** LLM nodes are the core of the analysis. Validating this early prevents surprises later.

---

## Phase 4: Document Setup Status

### 7. Create setup checklist
Save a file at `your_workspace/your_workflows/research_analysis_experiment/setup_checklist.md`:

```markdown
# Experiment Setup Checklist

## Environment
- [ ] n8n instance accessible and working
- [ ] n8n workflow editor can be accessed

## API Keys
- [ ] Anthropic API key configured in n8n (Claude)
- [ ] OpenAI API key configured in n8n (GPT-4V) - Optional
- [ ] Semantic Scholar API registered (or using arXiv only)

## Basic Tests
- [ ] HTTP node test successful (arXiv API query)
- [ ] LLM node test successful (Claude or GPT prompt)

## Readiness
- [ ] All required tools ready
- [ ] Ready to proceed to Step 2: Learn Blocking Checkpoints

**Date Completed:** [Date]
**Time Spent:** [Hours]
**Blockers Encountered:** [List any issues and how they were resolved]
```

Update this file as each item is completed.

**Why this matters:** Documentation helps track progress and provides a reference if you need to troubleshoot later.

---

## Output Requirements

At the end of this step, create the following file:

**File:** `your_workspace/your_workflows/research_analysis_experiment/setup_checklist.md`

**Format:** Markdown checklist with all items marked as complete

---

## Instructions for the AI Assistant

- Walk through each phase systematically
- Don't skip verification steps - each test is important
- If the user encounters blockers, help troubleshoot before moving on
- Be encouraging - setup can be tedious but it's essential
- If they're missing API keys, explain why each is needed and offer alternatives where possible
- Once all checkboxes are complete, congratulate them and confirm readiness for Step 2
- Keep the tone supportive and practical
- Document the time spent and any issues encountered for future reference
